# QWEN.md - Инструкциональный контекст для проекта stylist-svelte

## Обзор проекта

**Название**: stylist-svelte
**Тип**: Библиотека Svelte компонентов
**Версия**: 0.5.0
**Описание**: Комплексная библиотека UI-компонентов для Svelte 5 с встроенным интерактивным Playground и полной поддержкой TypeScript.

### Особенности:
- **Svelte 5 Runes**: Использует последние возможности Svelte 5, включая runes для реактивного программирования
- **Поддержка TypeScript**: Полная типизация с исчерпывающими определениями типов
- **Архитектура Atomic Design**: Компоненты организованы в соответствии с принципами атомического дизайна (атомы, молекулы, организмы)
- **Tailwind CSS**: Стилизация с помощью utility-first Tailwind CSS
- **Доступность**: Поддержка ARIA-атрибутов и навигации с клавиатуры
- **Tree-shakeable**: Импорт только необходимых компонентов
- **Без зависимостей**: Только peer зависимости от Svelte и Tailwind CSS
- **Композиционный дизайн**: Компоненты спроектированы для бесшовной работы друг с другом
- **Настройка**: Простая настройка через props и CSS-переменные
- **Интерактивный Playground**: Встроенный интерфейс для тестирования компонентов

### Структура проекта:

```
stylist-svelte/
├── .gitignore                      # Файл исключений для Git (определяет, какие файлы и директории не должны быть добавлены в репозиторий)
├── .npmrc                          # Конфигурационный файл для npm/yarn (настройки пакетного менеджера)
├── .prettierignore                 # Файлы и директории, игнорируемые Prettier (исключения для форматирования кода)
├── .prettierrc                     # Конфигурация Prettier (настройки форматирования кода)
├── .yarnrc.yml                     # Конфигурация Yarn (настройки пакетного менеджера Yarn)
├── LICENSE                         # Файл лицензии проекта (определяет условия использования и распространения)
├── package.json                    # Основной файл зависимостей и скриптов (определяет метаданные пакета, зависимости и команды для работы с проектом)
├── README.md                       # Основная документация проекта (содержит информацию о проекте, установке и использовании)
├── svelte.config.js                # Конфигурация компилятора Svelte (определяет препроцессоры и настройки компиляции)
├── tsconfig.json                   # Конфигурация TypeScript (определяет параметры компиляции TypeScript)
├── vite.config.ts                  # Конфигурация сборки Vite (определяет настройки для разработки и сборки проекта)
├── src/                            # Исходный код библиотеки компонентов
│   ├── index.ts                    # Главный файл экспорта библиотеки (объединяет и экспортирует все публичные API)
│   ├── components/                 # Компоненты пользовательского интерфейса
│   │   ├── atoms/                  # Атомарные компоненты (кнопки, инпуты, лейблы и т.д.)
│   │   ├── molecules/              # Составные компоненты (формы, карточки и т.д.)
│   │   └── organisms/              # Сложные структуры (навигация, таблицы и т.д.)
│   ├── playground/                 # Интерактивный playground для компонентов (компоненты, хранилища, типы и утилиты для отладки)
│   │   ├── components/             # Компоненты интерфейса для playground
│   │   ├── stores/                 # Хранилища состояния для playground
│   │   ├── types/                  # Типы данных для playground
│   │   └── utils/                  # Вспомогательные утилиты для playground
│   ├── types/                      # Определения типов TypeScript (обеспечивает строгую типизацию в проекте)
│   └── utils/                      # Вспомогательные функции (содержит переиспользуемые утилиты для обработки данных)
├── docs/                           # Дополнительная документация проекта (содержит расширенную документацию и руководства)
│   ├── ad/                         # Документы по архитектуре Atomic Design
│   └── cookbooks/                  # Руководства по исправлению кода и работе с проектом
└── histoire.config.ts              # Конфигурация интерактивной документации Histoire (плагины, темы, логотипы, настройки отображения)
```

## Сборка и запуск

### Предварительные требования:
- Node.js (v18 или выше)
- Yarn (рекомендуется)

### Установка:
1. Установить зависимости:
   ```bash
   yarn install
   ```

### Доступные скрипты:
- `yarn dev` - Запуск сервера разработки с Playground
- `yarn build` - Сборка библиотеки компонентов
- `yarn preview` - Предварительный просмотр собранной документации
- `yarn check` - Проверка типов Svelte
- `yarn lint` - Проверка кода
- `yarn format` - Форматирование кода с помощью Prettier
- `yarn test` - Запуск тестов
- `yarn clean` - Очистка артефактов сборки

### Запуск разработки:
Чтобы начать работу с проектом, запустите:
```bash
yarn dev
```
Это запустит интерактивный сервер Playground, где можно просматривать и тестировать компоненты.

## Конфигурация

### svelte.config.js
Файл конфигурации Svelte, который использует vitePreprocess() и имеет настройки для работы с TypeScript и Tailwind CSS.

### package.json
Важные зависимости:
- svelte: ^5.0.0
- @sveltejs/vite-plugin-svelte
- @sveltejs/package
- tailwindcss, autoprefixer, postcss
- Типы и инструменты для TypeScript, ESLint и Prettier

## Структура компонентов

В проекте используется архитектурный подход Atomic Design:
- **Атомы** (atoms): Простые базовые компоненты (кнопки, инпуты, лейблы)
- **Молекулы** (molecules): Комбинации атомов (формы, карточки)
- **Организмы** (organisms): Комплексные структуры из молекул и атомов (навигация, таблицы)

## Правила разработки

### Создание новых компонентов:
1. Размещайте в соответствующем каталоге (atoms/molecules/organisms)
2. Создайте соответствующую историю в каталоге `*.story.svelte` файл
3. Экспортируйте из соответствующего файла `index.ts`
4. Добавьте правильные TypeScript типы
5. Следуйте существующему стилю кода
6. Используйте Svelte 5 runes для управления состоянием

### Использование Playground:
1. Создайте `.story.svelte` файл рядом с компонентом
2. Используйте `Story` компонент из `stylist-svelte/playground`
3. Определите `controls` для интерактивного тестирования пропсов
4. Playground автоматически обнаружит все `*.story.svelte` файлы

## Публикация

Для публикации новой версии:
1. Обновите версию в package.json, следуя семантическому версионированию
2. Запустите тесты: `yarn test`
3. Соберите библиотеку: `yarn build`
4. Опубликуйте в npm: `yarn publish`

Для предварительных релизов:
```bash
yarn version prerelease --preid=beta
yarn publish --tag beta
```

## Архитектурные решения

### Использование Svelte 5 Runes:
- `$state()` для реактивного состояния
- `$derived()` для вычисляемых значений
- `$effect()` для побочных эффектов
- `$props()` для пропсов компонента

### Система импортов:
- `import { Component } from 'stylist-svelte'` - основные компоненты
- `import { playgroundStore } from 'stylist-svelte/playground'` - для работы с Playground
- `import type { SomeType } from 'stylist-svelte/types'` - для TypeScript типов

### Структура экспорта:
- `./components/atoms` - Атомарные компоненты
- `./components/molecules` - Молекулярные компоненты
- `./components/organisms` - Организменные компоненты
- `./utils` - Вспомогательные функции
- `./types` - TypeScript типы
- `./playground` - Компоненты и функциональность для Playground

## Лицензия

MIT License - см. файл [LICENSE](./LICENSE) для получения дополнительной информации.