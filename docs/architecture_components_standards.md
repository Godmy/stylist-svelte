# Стандарты дизайн-системы для архитектурных компонентов

## Обновленные токены размеров

### Новые токены для размеров отступов
Добавлены новые токены для стандартных размеров отступов:

```ts
export const SPACER_SIZE_SCALE = ['xs', 'sm', 'md', 'lg', 'xl'] as const;
export type SpacerSize = (typeof SPACER_SIZE_SCALE)[number];
```

Эти токены мапятся на следующие значения:
- `xs`: 0.25rem (4px)
- `sm`: 0.5rem (8px)
- `md`: 1rem (16px)
- `lg`: 1.5rem (24px)
- `xl`: 2rem (32px)

## Обновленные пропсы компонентов

### SpacerProps
Теперь включает поддержку токенов размеров:
```ts
interface SpacerProps {
  axis?: Orientation;
  size?: SpacerSize | string | number; // Поддерживает токены, строки и числа
  class?: string;
}
```

### StackProps
Теперь включает поддержку токенов размеров:
```ts
interface StackProps {
  direction?: Orientation;
  spacing?: SpacerSize | string | number; // Поддерживает токены, строки и числа
  align?: StackAlign;
  justify?: Justification;
  children?: Snippet;
}
```

## Обновленные стили

### LayoutStyleManager
Функция `getSpacerSize` теперь поддерживает токены размеров:
```ts
static getSpacerSize(size?: string | number): string
```

### StackStyleManager
Функция `getStackGap` теперь поддерживает токены размеров:
```ts
static getStackGap(spacing: string | number): string
```

## Структура файлов моделей

Каждый компонент теперь имеет свою собственную модель состояния в отдельном файле:
- `aspect-ratio.svelte.ts` → `createAspectRatioState`
- `container.svelte.ts` → `createContainerState`
- `divider.svelte.ts` → `createDividerState`
- `grid-layout.svelte.ts` → `createGridLayoutState`
- `horizontal-layout.svelte.ts` → `createHorizontalLayoutState`
- `spacer.svelte.ts` → `createSpacerState`
- `stack.svelte.ts` → `createStackState` (уже существовал отдельно)

## Рекомендации по созданию новых компонентов

### Для компонентов, использующих отступы
При создании новых компонентов, использующих размеры отступов, рекомендуется:
1. Использовать тип `SpacerSize` для пропсов, связанных с отступами
2. Обновлять соответствующие стили, чтобы они поддерживали токены размеров
3. Включать токены в story файлы для интерактивной демонстрации

### Для файлов моделей
1. Каждый компонент должен иметь свою собственную модель состояния
2. Файл модели должен иметь имя, соответствующее компоненту
3. Файл должен экспортировать одну основную функцию состояния и быть по умолчанию экспортирован

### Для story файлов
1. Использовать общий компонент `Story.svelte` для интерактивной демонстрации
2. Включать все возможные значения токенов в опции контролов
3. Обеспечивать согласованность в описаниях и примерах

## Преимущества нормализации

1. **Согласованность**: Все компоненты теперь используют единые токены размеров
2. **Поддерживаемость**: Разделенные файлы моделей упрощают сопровождение
3. **Типобезопасность**: Улучшенная типизация снижает количество ошибок
4. **Масштабируемость**: Легко добавлять новые размеры и компоненты
5. **Документация**: Четкие стандарты упрощают обучение новых разработчиков