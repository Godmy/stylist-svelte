# –û—Ç—á–µ—Ç –æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ Information Molecules

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### 1. Consolidation: Product Card –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (3‚Üí1)

**–ü—Ä–æ–±–ª–µ–º–∞:**
–¢—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –¥—É–±–ª–∏—Ä—É—é—â–µ–π—Å—è –ª–æ–≥–∏–∫–æ–π:
- `product-card` - –±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è
- `product-card-compact` - —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- `product-card-with-actions` - –≤–µ—Ä—Å–∏—è —Å actions

**–†–µ—à–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞–Ω –µ–¥–∏–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `product-card` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `variant`:
```typescript
variant: 'default' | 'compact' | 'with-actions'
```

**–§–∞–π–ª—ã:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: `commerce/products/product-card/index.svelte` - –µ–¥–∏–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: `commerce/products/product-card-compact/index.svelte` - wrapper —Å variant="compact"
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: `commerce/products/product-card-with-actions/index.svelte` - wrapper —Å variant="with-actions"
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: `design-system/styles/product-card.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ~150 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –í—Å–µ —Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∫–æ–¥
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

---

### 2. Consolidation: Code Block –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (3‚Üí1)

**–ü—Ä–æ–±–ª–µ–º–∞:**
–¢—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –¥—É–±–ª–∏—Ä—É—é—â–µ–π—Å—è –ª–æ–≥–∏–∫–æ–π:
- `code-block-with-line-numbers` - —Å—Ç—Ä–æ–∫–∏ + –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- `copyable-code-block` - —Ç–æ–ª—å–∫–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- `code-editor` - –±–∞–∑–æ–≤—ã–π `<pre><code>`

**–†–µ—à–µ–Ω–∏–µ:**
–°–æ–∑–¥–∞–Ω –µ–¥–∏–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `code-block` —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
```typescript
showLineNumbers?: boolean
highlightLines?: number[]
copyable?: boolean
title?: string
```

**–§–∞–π–ª—ã:**
- ‚úÖ –°–æ–∑–¥–∞–Ω: `development/code-block/index.svelte` - –µ–¥–∏–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ –°–æ–∑–¥–∞–Ω: `development/code-block/index.story.svelte` - story —Ñ–∞–π–ª
- ‚úÖ –°–æ–∑–¥–∞–Ω: `design-system/styles/code-block.ts` - StyleManager
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: `code-block-with-line-numbers/index.svelte` - wrapper —Å showLineNumbers={true}
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: `copyable-code-block/index.svelte` - wrapper —Å copyable={true}
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: `code-editor/index.svelte` - wrapper —Å –±–∞–∑–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ~200 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –ï–¥–∏–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –≤–º–µ—Å—Ç–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

---

### 3. Refactoring: Message Thread –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Message List

**–ü—Ä–æ–±–ª–µ–º–∞:**
`message-thread` –¥—É–±–ª–∏—Ä–æ–≤–∞–ª –ª–æ–≥–∏–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `message-list`

**–†–µ—à–µ–Ω–∏–µ:**
`message-thread` —Ç–µ–ø–µ—Ä—å –∫–æ–º–ø–æ–∑–∏—Ä—É–µ—Ç `message-list`:
```svelte
<MessageList
  messages={state.messages}
  currentUser={props.currentUser}
  onMessageAction={props.onMessageAction}
/>
```

**–§–∞–π–ª—ã:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: `messages/message-thread/index.svelte` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MessageList

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£–¥–∞–ª–µ–Ω–æ ~60 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ DRY
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ TypeScript

**–ü—Ä–æ–±–ª–µ–º–∞:**
–î—É–±–ª–∏—Ä—É—é—â–∏–π —ç–∫—Å–ø–æ—Ä—Ç `MessageThreadProps` –≤ `design-system/props/index.ts`

**–†–µ—à–µ–Ω–∏–µ:**
–£–¥–∞–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª `./message-thread`:
```typescript
// –ë—ã–ª–æ:
export type { MessageThreadProps } from './message-thread';

// –°—Ç–∞–ª–æ:
// MessageThreadProps is exported from './chat' (line 28)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–æ–≤

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –≠–∫–æ–Ω–æ–º–∏—è |
|-----------|------|-------|----------|
| Product Cards | 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ | 1 + 2 wrappers | ~150 —Å—Ç—Ä–æ–∫ |
| Code Blocks | 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ | 1 + 3 wrappers | ~200 —Å—Ç—Ä–æ–∫ |
| Message Thread | 2 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ | 2 (–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç List) | ~60 —Å—Ç—Ä–æ–∫ |
| **–ò–¢–û–ì–û** | **8 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** | **6 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** | **~410 —Å—Ç—Ä–æ–∫** |

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

1. **–£–º–µ–Ω—å—à–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞** - ~410 —Å—Ç—Ä–æ–∫ —É–¥–∞–ª–µ–Ω–æ
2. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
3. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–æ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö
4. **Backward compatibility** - —Å—Ç–∞—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ wrappers
5. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è** - MessageThread –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MessageList
6. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ TypeScript** - —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —ç–∫—Å–ø–æ—Ä—Ç—ã

---

## üîÑ Migration Guide

### Product Cards
```svelte
<!-- –ë—ã–ª–æ -->
<ProductCardCompact {...props} />
<ProductCardWithActions {...props} />

<!-- –°—Ç–∞–ª–æ (–æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç) -->
<ProductCard variant="compact" {...props} />
<ProductCard variant="with-actions" {...props} />

<!-- –ò–ª–∏ —á–µ—Ä–µ–∑ wrappers (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å) -->
<ProductCardCompact {...props} />
<ProductCardWithActions {...props} />
```

### Code Blocks
```svelte
<!-- –ë—ã–ª–æ -->
<CodeBlockWithLineNumbers code={code} />
<CopyableCodeBlock code={code} />
<CodeEditor code={code} />

<!-- –°—Ç–∞–ª–æ (–≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç) -->
<CodeBlock code={code} showLineNumbers={true} />
<CodeBlock code={code} copyable={true} />
<CodeBlock code={code} />

<!-- –ò–ª–∏ —á–µ—Ä–µ–∑ wrappers (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å) -->
<CodeBlockWithLineNumbers code={code} />
<CopyableCodeBlock code={code} />
<CodeEditor code={code} />
```

---

## üéØ Breaking Changes

**–ù–ï–¢!** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã:
- –°—Ç–∞—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ wrappers
- API –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –±—É–¥—É—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—ã–π `CodeBlock` –¥–ª—è –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—ã–π `ProductCard` —Å variant
3. –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—É –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ (–∫–∞–∫ MessageThread ‚Üí MessageList)

### –î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
1. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è variant –¥–ª—è ProductCard
2. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ü–∏–∏ CodeBlock
3. –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏

---

## ‚úÖ –°—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!**

- [x] Product Card –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã
- [x] Code Block –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã
- [x] Message Thread —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω
- [x] –û—à–∏–±–∫–∏ TypeScript –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- [x] –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- [x] –¢–µ—Å—Ç—ã –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
