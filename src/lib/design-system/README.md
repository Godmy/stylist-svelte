# Design System

Это основной модуль дизайн-системы Stylist, обеспечивающий гибкую, масштабируемую архитектуру для создания пользовательского интерфейса. Дизайн-система разработана как фреймворк-агностичная, но используется с Svelte в качестве реализации компонентов.

## Архитектура и структура

```
design-system/
├── tokens/         # Атомарные значения: цвета, отступы, типографика, радиусы, тени, размеры и классы
├── themes/         # Определения тем: светлая, темная, типы и контекст
├── interaction/    # Интерактивные компоненты: пресеты, свойства, токены для состояний
├── utils/          # Утилиты: работа с CSS переменными, применение тем
├── index.ts        # Единая точка экспорта для всего API дизайн-системы
└── README.md       # Описание архитектуры
```

## Принципы работы

### 1. Многоуровневая архитектура

- **Токены (Tokens)**: Атомарные значения (цвета, расстояния, размеры шрифтов и т.д.)
- **Темы (Themes)**: Собранные наборы значений для разных режимов (светлая/темная)
- **Интеракция (Interaction)**: Паттерн пресетов для согласованного поведения компонентов
- **Утилиты (Utils)**: Функциональность для работы с DOM и CSS переменными

### 2. Паттерн пресетов

Ключевым элементом является паттерн пресетов, позволяющий создавать консистентные интерактивные компоненты:

```ts
import { createPreset } from '$stylist/design-system';

const BUTTON_PRESET = createPreset({
  defaults: { variant: 'primary', size: 'md' },
  classes: {
    base: 'inline-flex items-center gap-2'
  }
});
```

`Preset<V,S>` определяет:
- Варианты (variants) и размеры (sizes) для компонента
- Значения по умолчанию
- CSS классы для всех состояний компонента

### 3. Токены и темы

- **Токены** содержат атомарные значения (цвета, отступы, типографика и т.д.)
- **Темы** собирают токены в связанные наборы для разных режимов
- Используются CSS переменные для динамического переключения тем

### 4. Фреймворк-агностичность

Весь код в `design-system/` написан без зависимости от Svelte, что позволяет использовать систему с любым фреймворком.

## Ключевые возможности

### Управление темами
- Поддержка светлой и темной тем
- Возможность переключения тем через `applyThemeToDOM`
- Генерация CSS переменных из объектов тем

### Интерактивные компоненты
- Единый паттерн для всех интерактивных компонентов
- Поддержка различных вариантов (primary, secondary, success и т.д.)
- Автоматическая обработка состояний (disabled, loading, focused)

### Управление стилями
- Все стили основаны на CSS переменных
- Автоматическое применение тем к DOM
- Поддержка статической генерации CSS

## Публичное API

Доступ через `$stylist/design-system`:
- Основные экспорт: `INTERACTION_TOKENS`, `createPreset`, `THEME_CONTEXT_KEY`, `lightTheme`, `darkTheme`
- Токены: цвета, отступы, размеры, классы и т.д.
- Утилиты: `applyThemeToDOM`, `themeToCSSVars`, `generateThemeCSS`
- Типы: `Theme`, `Preset`, `Props` и др.

## Рекомендации по использованию

1. **Используйте токены** вместо жестко закодированных значений
2. **Создавайте пресеты** для новых компонентов с помощью `createPreset`
3. **Не размещайте Svelte-специфичный код** внутри `design-system/`
4. **Обновляйте темы** через `applyThemeToDOM` для динамического переключения
5. **Проверяйте доступность** при создании компонентов с помощью готовых классов
