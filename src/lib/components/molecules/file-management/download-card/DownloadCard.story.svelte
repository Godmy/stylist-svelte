<script lang="ts">
  import DownloadCard from './DownloadCard.svelte';
  import type { Meta, StoryFn } from '$lib/playground/interfaces';
  import type { IDownloadCardProps } from './types';

  // Define the meta information for the story
  const meta: Meta = {
    title: 'Molecules/File Management/DownloadCard',
    component: DownloadCard,
    tags: ['autodocs'],
    parameters: {
      layout: 'centered'
    },
    argTypes: {
      file: {
        control: { type: 'object' },
        description: '–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–∞',
        defaultValue: {
          name: 'documentation.pdf',
          size: 2457600,
          type: 'PDF',
          date: '2023-10-15'
        }
      },
      variant: {
        control: { type: 'select', options: ['primary', 'secondary', 'success', 'warning', 'danger'] },
        description: '–í–∞—Ä–∏–∞–Ω—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏',
        defaultValue: 'primary'
      },
      downloadUrl: {
        control: { type: 'text' },
        description: 'URL –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞',
        defaultValue: '#'
      },
      iconAlt: {
        control: { type: 'text' },
        description: '–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∏–∫–æ–Ω–∫–∏ —Ñ–∞–π–ª–∞',
        defaultValue: 'File'
      },
      showMetadata: {
        control: { type: 'boolean' },
        description: '–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–∞',
        defaultValue: true
      },
      icon: {
        control: { type: 'text' },
        description: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏–∫–æ–Ω–∫–∞ –¥–ª—è —Ñ–∞–π–ª–∞'
      },
      class: {
        control: { type: 'text' },
        description: '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ CSS –∫–ª–∞—Å—Å—ã'
      }
    }
  };

  // Default story
  const DefaultStory: StoryFn = (args?: Record<string, any>) => {
    return {
      Component: DownloadCard,
      props: args || {}
    };
  };

  // Story with different configurations
  const WithCustomIconStory: StoryFn = (args?: Record<string, any>) => {
    return {
      Component: DownloadCard,
      props: { ...args, file: { name: 'style-guide.docx', size: '3.2 MB', type: 'DOCX', date: '2023-10-10' }, variant: 'success', icon: 'üìù' }
    };
  };

  const WarningVariantStory: StoryFn = (args?: Record<string, any>) => {
    return {
      Component: DownloadCard,
      props: { ...args, file: { name: 'report.xlsx', size: 5120000, type: 'XLSX', date: '2023-10-01' }, variant: 'warning', downloadUrl: '#' }
    };
  };

  const WithoutMetadataStory: StoryFn = (args?: Record<string, any>) => {
    return {
      Component: DownloadCard,
      props: { ...args, file: { name: 'archive.zip', size: 10485760, type: 'ZIP' }, showMetadata: false, variant: 'danger' }
    };
  };
</script>

<!-- Default story -->
<div id="molecules-download-card">
  <h1>DownloadCard</h1>
  <p>DownloadCard - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Ñ–∞–π–ª–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–∫–∞—á–∏–≤–∞–Ω–∏—è</p>

  <h2>Default</h2>
  <div class="p-4 border rounded-lg max-w-md">
    <svelte:component this={DefaultStory}
      file={{ name: 'documentation.pdf', size: 2457600, type: 'PDF', date: '2023-10-15' }}
      downloadUrl="#"
      variant="primary"
      showMetadata={true} />
  </div>

  <h2>With Custom Icon</h2>
  <div class="p-4 border rounded-lg max-w-md">
    <svelte:component this={WithCustomIconStory}
      file={{ name: 'style-guide.docx', size: '3.2 MB', type: 'DOCX', date: '2023-10-10' }}
      variant="success"
      icon="üìù" />
  </div>

  <h2>Warning Variant</h2>
  <div class="p-4 border rounded-lg max-w-md">
    <svelte:component this={WarningVariantStory}
      file={{ name: 'report.xlsx', size: 5120000, type: 'XLSX', date: '2023-10-01' }}
      variant="warning"
      downloadUrl="#" />
  </div>

  <h2>Without Metadata</h2>
  <div class="p-4 border rounded-lg max-w-md">
    <svelte:component this={WithoutMetadataStory}
      file={{ name: 'archive.zip', size: 10485760, type: 'ZIP' }}
      showMetadata={false}
      variant="danger" />
  </div>
</div>

<!-- Export the meta for Storybook -->
{@html `<script type="application/json" id="svelte-meta">${JSON.stringify(meta)}</script>`}